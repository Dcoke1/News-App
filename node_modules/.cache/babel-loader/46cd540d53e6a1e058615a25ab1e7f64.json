{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.render = exports.cancel = void 0;\n\nvar _dom = require(\"./utils/dom\");\n\nvar _date = require(\"./utils/date\");\n\nvar _locales = require(\"./locales\"); // 所有的 timer\n\n\nvar TimerPool = {};\n\nvar clear = function clear(tid) {\n  clearTimeout(tid);\n  delete TimerPool[tid];\n}; // 定时运行\n\n\nvar run = function run(node, date, localeFunc, nowDate) {\n  // 先清理掉之前的\n  clear((0, _dom.getTimerId)(node)); // get diff seconds\n\n  var diff = (0, _date.diffSec)(date, nowDate); // render\n\n  node.innerHTML = (0, _date.formatDiff)(diff, localeFunc);\n  var tid = setTimeout(function () {\n    run(node, date, localeFunc, nowDate);\n  }, (0, _date.nextInterval)(diff) * 1000, 0x7FFFFFFF); // there is no need to save node in object. Just save the key\n\n  TimerPool[tid] = 0;\n  (0, _dom.saveTimerId)(node, tid);\n}; // 取消一个 node 的实时渲染\n\n\nvar cancel = function cancel(node) {\n  if (node) clear((0, _dom.getTimerId)(node)); // get the timer of DOM node(native / jq).\n  else for (var tid in TimerPool) {\n      clear(tid);\n    }\n}; // 实时渲染一系列节点\n\n\nexports.cancel = cancel;\n\nvar render = function render(nodes, locale, nowDate) {\n  // by .length\n  if (nodes.length === undefined) nodes = [nodes];\n  var node;\n\n  for (var i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    var date = (0, _dom.getDateAttribute)(node);\n    var localeFunc = (0, _locales.getLocale)(locale);\n    run(node, date, localeFunc, nowDate);\n  }\n\n  return nodes;\n};\n\nexports.render = render;","map":{"version":3,"sources":["/Users/CEO/Desktop/Class-Work/CODE2019/News-App/node_modules/timeago.js/lib/realtime.js"],"names":["Object","defineProperty","exports","value","render","cancel","_dom","require","_date","_locales","TimerPool","clear","tid","clearTimeout","run","node","date","localeFunc","nowDate","getTimerId","diff","diffSec","innerHTML","formatDiff","setTimeout","nextInterval","saveTimerId","nodes","locale","length","undefined","i","getDateAttribute","getLocale"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.render = exports.cancel = void 0;\n\nvar _dom = require(\"./utils/dom\");\n\nvar _date = require(\"./utils/date\");\n\nvar _locales = require(\"./locales\");\n\n// 所有的 timer\nvar TimerPool = {};\n\nvar clear = function clear(tid) {\n  clearTimeout(tid);\n  delete TimerPool[tid];\n}; // 定时运行\n\n\nvar run = function run(node, date, localeFunc, nowDate) {\n  // 先清理掉之前的\n  clear((0, _dom.getTimerId)(node)); // get diff seconds\n\n  var diff = (0, _date.diffSec)(date, nowDate); // render\n\n  node.innerHTML = (0, _date.formatDiff)(diff, localeFunc);\n  var tid = setTimeout(function () {\n    run(node, date, localeFunc, nowDate);\n  }, (0, _date.nextInterval)(diff) * 1000, 0x7FFFFFFF); // there is no need to save node in object. Just save the key\n\n  TimerPool[tid] = 0;\n  (0, _dom.saveTimerId)(node, tid);\n}; // 取消一个 node 的实时渲染\n\n\nvar cancel = function cancel(node) {\n  if (node) clear((0, _dom.getTimerId)(node)); // get the timer of DOM node(native / jq).\n  else for (var tid in TimerPool) {\n      clear(tid);\n    }\n}; // 实时渲染一系列节点\n\n\nexports.cancel = cancel;\n\nvar render = function render(nodes, locale, nowDate) {\n  // by .length\n  if (nodes.length === undefined) nodes = [nodes];\n  var node;\n\n  for (var i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    var date = (0, _dom.getDateAttribute)(node);\n    var localeFunc = (0, _locales.getLocale)(locale);\n    run(node, date, localeFunc, nowDate);\n  }\n\n  return nodes;\n};\n\nexports.render = render;"]},"metadata":{},"sourceType":"script"}